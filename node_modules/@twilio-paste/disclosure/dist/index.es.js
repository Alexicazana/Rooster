var w=Object.prototype.hasOwnProperty;var y=Object.getOwnPropertySymbols,z=Object.prototype.propertyIsEnumerable;var n=Object.assign;var l=(e,r)=>{var s={};for(var o in e)w.call(e,o)&&r.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&y)for(var o of y(e))r.indexOf(o)<0&&z.call(e,o)&&(s[o]=e[o]);return s};import{createElement as f,forwardRef as k}from"react";import{useDisclosurePrimitiveState as v}from"@twilio-paste/disclosure-primitive";import{Box as L,safelySpreadBoxProps as O}from"@twilio-paste/box";import{Card as _}from"@twilio-paste/card";import{createContext as N}from"react";var p=N({});var C=k((c,i)=>{var{children:e,element:r="DISCLOSURE",variant:s="default",state:o}=c,t=l(c,["children","element","variant","state"]);let a={disclosure:o||v(n({animated:!0},t)),variant:s};return s==="contained"?f(p.Provider,{value:a},f(_,n(n({},t),{variant:s,element:r,padding:"space0",ref:i}),e)):f(p.Provider,{value:a},f(L,n(n({},O(t)),{variant:s,element:r,ref:i}),e))});C.displayName="Disclosure";import{createElement as u,forwardRef as A,useContext as $,useRef as G}from"react";import{useTheme as U}from"@twilio-paste/theme";import{Box as R,safelySpreadBoxProps as V}from"@twilio-paste/box";import{Heading as X}from"@twilio-paste/heading";import{ChevronDisclosureExpandedIcon as j}from"@twilio-paste/icons/esm/ChevronDisclosureExpandedIcon";import{DisclosurePrimitive as W}from"@twilio-paste/disclosure-primitive";import{useEffect as M,useState as F}from"react";var P=(e,r,s,o,t)=>{if(!o){let i=t.space20;return(r==="heading40"||r==="heading50"||r==="heading60")&&(i=t.space10),{color:e?"colorText":"colorTextIcon",transform:`${e?`translateX(${i})`:"translateX(0)"} ${s?"rotate(0deg)":"rotate(-90deg)"}`,transition:"transform 200ms ease-out"}}return{color:"colorTextIcon"}},b=e=>{let[r,s]=F(!1),o=()=>s(!0),t=()=>s(!1);return M(()=>{let i=e==null?void 0:e.current;if(i)return i.addEventListener("mouseover",o),i.addEventListener("mouseout",t),()=>{i.removeEventListener("mouseover",o),i.removeEventListener("mouseout",t)}},[e]),r};var x={heading10:"sizeIcon90",heading20:"sizeIcon70",heading30:"sizeIcon60",heading40:"sizeIcon40",heading50:"sizeIcon30",heading60:"sizeIcon20"};var h=A((D,T)=>{var{children:e,element:r,marginBottom:s,renderAs:o,disclosureVariant:t,customDisabled:i,customFocusable:c,variant:d}=D,a=l(D,["children","element","marginBottom","renderAs","disclosureVariant","customDisabled","customFocusable","variant"]);let I=U(),g=G(null),E=b(g),m="borderRadius20";return t==="contained"&&(m="borderRadius10"),t==="contained"&&a["aria-expanded"]&&(m="borderRadius0"),u(X,{as:o,marginBottom:"space0",variant:d,ref:T},u(R,n(n({},V(a)),{as:"div",backgroundColor:a["aria-expanded"]?"colorBackground":"colorBackgroundBody",borderRadius:t==="contained"?"borderRadius10":"borderRadius20",borderBottomLeftRadius:m,borderBottomRightRadius:m,cursor:"pointer",display:"flex",element:r,outline:"none",padding:"space30",position:"relative",ref:g,role:"button",zIndex:"zIndex10",transition:"background-color 100ms ease-out",_hover:{backgroundColor:"colorBackgroundStrong"},_focus:{boxShadow:"shadowFocus"},_disabled:{backgroundColor:a["aria-expanded"]?"colorBackground":"colorBackgroundBody",color:"colorTextWeak",cursor:"not-allowed"}}),u(R,n({as:"span",element:`${r}_ICON`,display:"flex",height:x[d]||"sizeIcon20",width:x[d]||"sizeIcon20"},P(E,d,a["aria-expanded"],a["aria-disabled"],I.space)),u(j,{color:"inherit",decorative:!0,size:x[d]||"sizeIcon20"})),e))});h.displayName="StyledDisclosureHeading";var H=c=>{var{children:e,as:r,element:s="DISCLOSURE_HEADING",disabled:o,focusable:t}=c,i=l(c,["children","as","element","disabled","focusable"]);let{disclosure:d,variant:a}=$(p);return u(W,n(n(n({},d),i),{as:h,customDisabled:o,customFocusable:t,disabled:o,disclosureVariant:a,element:s,focusable:t,renderAs:r}),e)};H.displayName="DisclosureHeading";import{createElement as q,forwardRef as J,useContext as K}from"react";import{useSpring as Q,animated as Y}from"@twilio-paste/animation-library";import{Box as Z,safelySpreadBoxProps as ee}from"@twilio-paste/box";import{DisclosurePrimitiveContent as oe}from"@twilio-paste/disclosure-primitive";var B=Y(Z),S=J((i,t)=>{var{children:e,element:r="DISCLOSURE_CONTENT",visible:s}=i,o=l(i,["children","element","visible"]);let{disclosure:c}=K(p),{opacity:d}=Q({opacity:c.visible?1:0,onRest:c.stopAnimation,config:{mass:1,tension:150,friction:20,duration:100}});return q(oe,n(n(n({},c),ee(o)),{as:B,element:r,backgroundColor:"colorBackgroundBody",padding:"space50",ref:t,style:{opacity:d}}),e)});S.displayName="DisclosureContent";export{B as AnimatedDisclosureContent,C as Disclosure,S as DisclosureContent,H as DisclosureHeading,v as useDisclosureState};
