var j=Object.prototype.hasOwnProperty;var N=Object.getOwnPropertySymbols,q=Object.prototype.propertyIsEnumerable;var s=Object.assign;var p=(r,e)=>{var t={};for(var o in r)j.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&N)for(var o of N(r))e.indexOf(o)<0&&q.call(r,o)&&(t[o]=r[o]);return t};import{createElement as d,forwardRef as no,useEffect as co,useRef as lo}from"react";import{Button as mo}from"@twilio-paste/button";import{CloseIcon as To}from"@twilio-paste/icons/esm/CloseIcon";import{ErrorIcon as fo}from"@twilio-paste/icons/esm/ErrorIcon";import{NeutralIcon as uo}from"@twilio-paste/icons/esm/NeutralIcon";import{SuccessIcon as yo}from"@twilio-paste/icons/esm/SuccessIcon";import{WarningIcon as go}from"@twilio-paste/icons/esm/WarningIcon";import{MediaObject as Ro,MediaFigure as L,MediaBody as bo}from"@twilio-paste/media-object";import{createElement as $,forwardRef as X}from"react";import{Box as G,safelySpreadBoxProps as J}from"@twilio-paste/box";import{arrayOf as F,bool as P,func as v,node as h,oneOf as O,shape as V,string as U}from"prop-types";var f={ERROR:"error",NEUTRAL:"neutral",SUCCESS:"success",WARNING:"warning"};var l={children:h.isRequired,onDismiss:v,variant:O(["error","neutral","success","warning"])},$o={children:h.isRequired,__console_patch:P},k={children:h.isRequired,__console_patch:P},Xo={toasts:F(V({id:U.isRequired,message:h.isRequired,setFocus:P,variant:O(Object.values(f)).isRequired})).isRequired,pop:v.isRequired,__console_patch:P};var x=X((a,o)=>{var{element:r="TOAST",variant:e}=a,t=p(a,["element","variant"]);return $(G,s(s({},J(t)),{ref:o,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderErrorWeak",boxShadow:"shadowHigh",element:r,padding:"space60",variant:e,width:"size40"}),t.children)});x.displayName="ErrorToast";x.propTypes=l;import{createElement as K,forwardRef as Q}from"react";import{Box as Y,safelySpreadBoxProps as Z}from"@twilio-paste/box";var w=Q((a,o)=>{var{element:r="TOAST",variant:e}=a,t=p(a,["element","variant"]);return K(Y,s(s({},Z(t)),{ref:o,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderNeutral",boxShadow:"shadowHigh",element:r,padding:"space60",variant:e,width:"size40"}),t.children)});w.displayName="NeutralToast";w.propTypes=l;import{createElement as oo,forwardRef as ro}from"react";import{Box as eo,safelySpreadBoxProps as to}from"@twilio-paste/box";var B=ro((a,o)=>{var{element:r="TOAST",variant:e}=a,t=p(a,["element","variant"]);return oo(eo,s(s({},to(t)),{ref:o,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderSuccessWeak",boxShadow:"shadowHigh",element:r,padding:"space60",variant:e,width:"size40"}),t.children)});B.displayName="SuccessToast";B.propTypes=l;import{createElement as so,forwardRef as ao}from"react";import{Box as io,safelySpreadBoxProps as po}from"@twilio-paste/box";var S=ao((a,o)=>{var{element:r="TOAST",variant:e}=a,t=p(a,["element","variant"]);return so(io,s(s({},po(t)),{ref:o,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderWarningWeak",boxShadow:"shadowHigh",element:r,padding:"space60",variant:e,width:"size40"}),t.children)});S.displayName="WarningToast";S.propTypes=l;var Po={error:x,neutral:w,success:B,warning:S},ho=(r,e)=>{switch(r){case f.ERROR:return d(fo,{color:"colorTextIconError",decorative:!1,element:`${e}_ICON`,title:"error: ",size:"sizeIcon20"});case f.SUCCESS:return d(yo,{color:"colorTextIconSuccess",decorative:!1,element:`${e}_ICON`,title:"success: ",size:"sizeIcon20"});case f.WARNING:return d(go,{color:"colorTextIconWarning",decorative:!1,element:`${e}_ICON`,title:"warning: ",size:"sizeIcon20"});case f.NEUTRAL:default:return d(uo,{color:"colorTextIconNeutral",decorative:!1,element:`${e}_ICON`,title:"information: ",size:"sizeIcon20"})}},g=no((n,c)=>{var{children:r,onDismiss:e,variant:t="neutral",element:o="TOAST",setFocus:a}=n,i=p(n,["children","onDismiss","variant","element","setFocus"]);let u=Po[t],T=lo(null);return co(()=>{a&&T.current&&T.current.focus({preventScroll:!0})},[a]),d(u,s({role:"status",variant:t,element:o,ref:c},i),d(Ro,{as:"div"},d(L,{as:"div",spacing:"space60"},ho(t,o)),d(bo,{as:"div"},r),e&&typeof e=="function"&&d(L,{align:"end",spacing:"space40"},d(mo,{onClick:e,variant:"secondary_icon",ref:T,size:"reset",element:`${o}_CLOSE_BUTTON`},d(To,{color:"colorTextIcon",decorative:!1,title:"Dismiss toast",size:"sizeIcon20",element:`${o}_CLOSE_ICON`})))))});g.displayName="Toast";g.propTypes=l;import{createElement as M,forwardRef as Io}from"react";import{Stack as Eo}from"@twilio-paste/stack";import{createElement as I,forwardRef as xo}from"react";import{StyledBase as wo}from"@twilio-paste/theme";import{Portal as Bo}from"@twilio-paste/reakit-library";import{Box as So,safelySpreadBoxProps as Co}from"@twilio-paste/box";var R=xo((a,o)=>{var{children:r,__console_patch:e}=a,t=p(a,["children","__console_patch"]);return I(Bo,null,I(wo,null,I(So,s(s({},Co(t)),{position:"fixed",right:"space40",top:"space90",zIndex:"zIndex90",ref:o,style:e?{zIndex:1999}:void 0}),r)))});R.displayName="ToastPortal";var E=Io((o,t)=>{var{children:r}=o,e=p(o,["children"]);return M(R,s({},e),M(Eo,{orientation:"vertical",spacing:"space40",ref:t},r))});E.displayName="ToastContainer";E.propTypes=k;import{createElement as W,useCallback as Wo,useEffect as No,useState as _}from"react";import{useTransition as vo,animated as Oo,useReducedMotion as ko}from"@twilio-paste/animation-library";import{useTheme as Lo}from"@twilio-paste/theme";import{Box as Mo}from"@twilio-paste/box";var z=Oo(Mo),D=o=>{var{toasts:r,pop:e}=o,t=p(o,["toasts","pop"]);let a=ko(),[i]=_(()=>new WeakMap),[c,n]=_({trigger:null}),u=Lo(),T=vo(r,{from:{marginBottom:"0rem",opacity:0,transform:"translateX(100%) scale(1)",height:a?"auto":0},enter:a?{marginBottom:u.space.space40,opacity:1,transform:"translateX(0px) scale(1)"}:C=>async m=>{await m({marginBottom:u.space.space40,opacity:1,transform:"translateX(0px) scale(1)",height:i.get(C).offsetHeight})},leave:{marginBottom:"0rem",opacity:0,transform:"translateX(0px) scale(0.8)",height:a?"auto":0},config:{mass:1,tension:150,friction:20}}),b=Wo(()=>{n({trigger:null})},[c]);return No(()=>{c.trigger!=null&&r.length===0&&(c.trigger.focus(),b())},[r]),W(R,s({},t),T((C,m,H,A)=>W(z,{as:"div",key:H.key,style:C},W(g,s(s({key:m.id},m),{onDismiss:()=>{m.onDismiss!=null&&m.onDismiss(),e(m.id)},ref:y=>{y!=null&&i.set(m,y)},setFocus:A===0,onFocus:y=>{y.relatedTarget&&!c.trigger&&n({trigger:y.relatedTarget})}}),m.message))))};D.displayName="Toaster";import{useEffect as _o,useRef as zo,useState as Do}from"react";import{uid as Ho}from"@twilio-paste/uid-library";var Ao=()=>{let r=zo(null),[e,t]=Do([]);_o(()=>(r.current=!0,()=>{r.current=!1,e.forEach(i=>{i.timeOutId&&window.clearTimeout(i.timeOutId)})}),[]);let o=i=>{!r.current||t(c=>c.filter(n=>(n.id===i&&(n.timeOutId&&window.clearTimeout(n.timeOutId),n.onDismiss&&n.onDismiss()),n.id!==i)))};return{toasts:e,push:i=>{if(!!r.current){let c=Ho(i),n;i.dismissAfter!=null&&Number.isInteger(i.dismissAfter)&&(n=window.setTimeout(o,i.dismissAfter,i.id||c));let u=e.map(T=>{let b=T;return b.setFocus=!1,b});t([s({id:c,timeOutId:n,setFocus:!0},i),...u])}},pop:o}};export{z as AnimatedToast,g as Toast,E as ToastContainer,D as Toaster,Ao as useToaster};
